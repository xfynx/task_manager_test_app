<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title><%= get_title(yield(:title)) %></title>
  <meta name="description" content="simple task manager app for demo">
  <meta name="author" content="xfynx">
  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <%= csrf_meta_tags %>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#"><%= ApplicationHelper::MAIN_TITLE %></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <% if current_user.present? %>
            <li <%= raw('class="active"') if yield(:active).to_s == 'user' %>>
              <%= link_to current_user.full_name, "/user/#{current_user.id}" %>
            </li>
            <li <%= raw('class="active"') if yield(:active).blank? %>>
              <%= link_to t('layout.main'), root_path %>
            </li>
            <li <%= raw('class="active"') if yield(:active).to_s == 'tasks' %>>
              <%= link_to t('layout.tasks'), tasks_path %>
            </li>
            <li><%= link_to t('layout.sign_out'), '/users/sign_out', method: :delete %></a></li>
        <% end %>
      </ul>
    </div>
  </div>
</nav>
<div class="container custom-container">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <%= yield %>
      </div>
    </div>
  </div>
  <footer class="footer">
    <hr>
    <p>2016, <a href="https://github.com/xfynx/task_manager_test_app">GitHub</a></p>
  </footer>
</div>

</body>
</html>